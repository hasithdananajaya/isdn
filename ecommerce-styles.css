.section-head{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 16px;
  margin-bottom: 14px;
}
.section-head h2{
  margin:0;
  font-size: 22px;
  letter-spacing: -.01em;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 10px;
}
.section-head h2 i,
.section-head h2 .fa-solid {
  color: var(--primary);
  opacity: 1;
  font-size: 24px;
}
html[data-theme="dark"] .section-head h2 i,
html[data-theme="dark"] .section-head h2 .fa-solid {
  color: #10b981;
}
.pill{
  display:inline-flex;
  gap:8px;
  align-items:center;
  padding: 10px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,.16);
  border:1px solid rgba(255,255,255,.18);
  color:#fff;
  backdrop-filter: blur(14px);
}

.product-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 16px;
}
.product-card{
  background: var(--card);
  border:2px solid var(--border);
  border-radius: var(--radius-xl);
  overflow:hidden;
  box-shadow: var(--shadow-md);
  transition: all .4s ease;
  animation: fadeIn .6s ease both;
  position: relative;
}
.product-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--radius-xl);
  padding: 2px;
  background: linear-gradient(135deg, #10b981, #059669, #047857, #10b981);
  background-size: 200% 200%;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity .4s;
  animation: borderRotate 4s linear infinite;
  pointer-events: none;
  z-index: 0;
}
.product-card:hover::before {
  opacity: 0.6;
}
.product-card:hover{
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 26px 70px rgba(16,185,129,.25), 0 0 40px rgba(5,150,105,.15);
  border-color: rgba(16,185,129,.4);
}
@keyframes borderRotate{
  0%{background-position: 0% 50%;}
  50%{background-position: 100% 50%;}
  100%{background-position: 0% 50%;}
}
@keyframes cardFloat{
  0%, 100%{transform: translateY(-8px) scale(1.03) rotateY(2deg);}
  50%{transform: translateY(-12px) scale(1.05) rotateY(1deg);}
}
.product-media{
  height: 160px;
  position:relative;
  background: radial-gradient(circle at 25% 25%, rgba(16,185,129,.15), transparent 55%),
              radial-gradient(circle at 80% 40%, rgba(5,150,105,.12), transparent 55%),
              linear-gradient(135deg, rgba(16,185,129,.08), rgba(5,150,105,.08));
  background-size: 200% 200%;
  animation: mediaGradient 8s ease infinite;
}
@keyframes mediaGradient{
  0%{background-position: 0% 50%;}
  50%{background-position: 100% 50%;}
  100%{background-position: 0% 50%;}
}
.product-media img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  filter:saturate(1.2) contrast(1.1) brightness(1.05);
  transform: scale(1.03);
  transition: all .5s ease;
}
.product-card:hover .product-media img{
  transform: scale(1.12) rotate(1deg);
  filter:saturate(1.4) contrast(1.2) brightness(1.1);
  animation: imagePulse 2s ease-in-out infinite;
}
@keyframes imagePulse{
  0%, 100%{filter: saturate(1.4) contrast(1.2) brightness(1.1);}
  50%{filter: saturate(1.6) contrast(1.3) brightness(1.15);}
}
.product-body{
  padding: 14px;
  position: relative;
  z-index: 1;
}
.product-name{font-weight:900; margin:0 0 6px}
.product-meta{display:flex; gap:10px; flex-wrap:wrap; color: var(--muted); font-size:13px}
.stock-badge{
  display:inline-flex; align-items:center; gap:8px;
  padding: 8px 10px;
  border-radius: 999px;
  font-weight:900;
  font-size:12px;
  border:1px solid var(--border);
  margin-top: 10px;
}
.stock-ok{
  background: linear-gradient(135deg, rgba(16,185,129,.2), rgba(5,150,105,.15));
  border-color: rgba(16,185,129,.4);
  color: #065f46;
}
html[data-theme="dark"] .stock-ok{
  background: linear-gradient(135deg, rgba(16,185,129,.25), rgba(5,150,105,.2));
  border-color: rgba(16,185,129,.5);
  color: #6ee7b7;
}
.stock-low{
  background: linear-gradient(135deg, rgba(245,158,11,.2), rgba(243,156,18,.15));
  border-color: rgba(245,158,11,.4);
  color: #92400e;
}
html[data-theme="dark"] .stock-low{
  background: linear-gradient(135deg, rgba(245,158,11,.25), rgba(243,156,18,.2));
  border-color: rgba(245,158,11,.5);
  color: #fcd34d;
}
.stock-out{
  background: linear-gradient(135deg, rgba(239,68,68,.2), rgba(220,38,38,.15));
  border-color: rgba(239,68,68,.4);
  color: #991b1b;
}
html[data-theme="dark"] .stock-out{
  background: linear-gradient(135deg, rgba(239,68,68,.25), rgba(220,38,38,.2));
  border-color: rgba(239,68,68,.5);
  color: #fca5a5;
}
@keyframes stockPulse{
  0%, 100%{transform: scale(1); opacity: 1;}
  50%{transform: scale(1.05); opacity: 0.9;}
}
.product-actions{
  display:flex; gap:10px; flex-wrap:wrap;
  margin-top: 12px;
  position: relative;
  z-index: 2;
}
.price{
  font-weight:1000;
  font-size: 18px;
  letter-spacing: -.01em;
}

.filters{
  display:grid;
  grid-template-columns: 2fr 1fr 1fr auto;
  gap: 12px;
  margin-bottom: 16px;
}
.filters .btn{height:46px}

.cart-summary{
  display:grid;
  gap: 10px;
}
.summary-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.summary-row strong{font-weight:1000}
.qty{
  display:flex;
  align-items:center;
  gap: 8px;
}
.qty button{
  width:38px; height:38px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: var(--card2);
  cursor:pointer;
  transition: transform .2s ease, box-shadow .2s ease;
}
.qty button:hover{
  transform: translateY(-2px) scale(1.1);
  box-shadow: 0 8px 20px rgba(16,185,129,.25), 0 0 15px rgba(5,150,105,.15);
  background: linear-gradient(135deg, rgba(16,185,129,.15), rgba(5,150,105,.12));
}
@keyframes qtyBounce{
  0%, 100%{transform: translateY(-2px) scale(1.1);}
  50%{transform: translateY(-4px) scale(1.15);}
}
.qty input{
  width: 68px;
  text-align:center;
  font-weight:900;
}

.steps{
  display:flex;
  gap: 10px;
  flex-wrap:wrap;
}
.step{
  flex: 1;
  min-width: 180px;
  background: var(--card2);
  border:1px solid var(--border);
  border-radius: 18px;
  padding: 12px;
}
.step .k{font-weight:1000}
.step .v{color: var(--muted)}

.timeline{
  display:grid;
  gap: 10px;
}
.timeline-item{
  display:flex;
  gap: 12px;
  align-items:flex-start;
  background: var(--card2);
  border:1px solid var(--border);
  border-radius: 18px;
  padding: 12px;
}
.timeline-dot{
  width:38px; height:38px;
  border-radius: 16px;
  display:grid; place-items:center;
  background: linear-gradient(135deg, rgba(16,185,129,.2), rgba(5,150,105,.15));
  border:2px solid rgba(16,185,129,.4);
  flex: 0 0 auto;
  position: relative;
}
.timeline-dot::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 16px;
  background: linear-gradient(135deg, #10b981, #059669);
  background-size: 200% 200%;
  animation: dotGlow 3s ease infinite;
  opacity: 0.2;
  z-index: -1;
  filter: blur(6px);
}
.timeline-item.done .timeline-dot{
  background: linear-gradient(135deg, rgba(16,185,129,.3), rgba(5,150,105,.25));
  border-color: rgba(16,185,129,.5);
  box-shadow: 0 0 20px rgba(16,185,129,.3);
}
@keyframes dotPulse{
  0%, 100%{transform: scale(1);}
  50%{transform: scale(1.1);}
}
@keyframes dotGlow{
  0%{background-position: 0% 50%; opacity: 0.3;}
  50%{background-position: 100% 50%; opacity: 0.5;}
  100%{background-position: 0% 50%; opacity: 0.3;}
}

.map{
  height: 420px;
  border-radius: var(--radius-xl);
  overflow:hidden;
  border:1px solid var(--border);
  box-shadow: var(--shadow-md);
}

.chart-card{
  padding: 14px;
}
.chart-wrap{
  background: var(--card2);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 12px;
}

@media (max-width: 1100px){
  .product-grid{grid-template-columns: repeat(3, minmax(0, 1fr))}
}
@media (max-width: 980px){
  .product-grid{grid-template-columns: repeat(2, minmax(0, 1fr))}
  .filters{grid-template-columns: 1fr 1fr; }
}
@media (max-width: 720px){
  .product-grid{grid-template-columns: 1fr}
  .filters{grid-template-columns: 1fr; }
}

